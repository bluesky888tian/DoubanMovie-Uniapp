(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/search/search"],{"0f15":function(t,a,i){"use strict";i.r(a);var n=i("4d4d"),e=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(a,t,(function(){return n[t]}))}(o);a["default"]=e.a},"4d4d":function(t,a,i){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n={data:function(){return{trailerList:[],toplist:[],animationData:{},animationDataArr:[{},{},{},{},{}],keywords:"",skip:0,totalPages:1,isShow:!0}},onUnload:function(){this.animationData={},this.animationDataArr=[{},{},{},{},{}]},onLoad:function(){var a=this;this.animation=t.createAnimation();var i=a.serverUrl;a=this;t.showLoading({mask:!0,title:"请稍后..."}),t.showNavigationBarLoading();i=a.serverUrl;t.request({url:i+"/api/v1/top?type=Imdb&skip=0&limit=27&lang=Cn",success:function(t){var i=t.data;a.toplist=i},complete:function(){t.hideNavigationBarLoading(),t.hideLoading()}})},onShareAppMessage:function(t){return{title:"电影小程序",path:"/pages/index/index"}},onReachBottom:function(){var t=this.skip+25,a=this.keywords,i=this.totalPages;t>i||this.pagedTrailerList(a,t,25)},methods:{showTrailer:function(a){var i=a.currentTarget.dataset.doubanid;console.log(i),t.navigateTo({url:"../movie/movie?doubanId="+i})},pagedTrailerList:function(a,i,n){var e=this;t.showLoading({mask:!0,title:"请稍后..."}),t.showNavigationBarLoading();var o=e.serverUrl;t.request({url:o+"/api/v1/movie/search?q="+a+"&skip="+i+"&limit="+n,success:function(a){429==a.statusCode&&t.showToast({title:"请求过快!",icon:"error",duration:5e3});var i=a.data;e.trailerList=i,e.totalPages=a.data.length,console.log(a.data.length)},complete:function(){t.hideNavigationBarLoading(),t.hideLoading()}})},searchMe:function(t){var a=t.detail.value;this.keywords=a,this.trailerList=[],this.pagedTrailerList(a,0,25)},praiseMe:function(t){var a=t.currentTarget.dataset.gindex;this.animation.translateY(-60).opacity(1).step({duration:400}),this.animationData=this.animation,this.animationDataArr[a]=this.animationData.export(),setTimeout(function(){this.animation.translateY(0).opacity(0).step({duration:0}),this.animationData=this.animation,this.animationDataArr[a]=this.animationData.export()}.bind(this),500)}},components:{trailerStars:function(){i.e("components/trailerStars").then(function(){return resolve(i("d079"))}.bind(null,i)).catch(i.oe)}}};a.default=n}).call(this,i("543d")["default"])},"55fa":function(t,a,i){"use strict";(function(t,a){var n=i("4ea4");i("0c9a");n(i("66fd"));var e=n(i("bcc4"));t.__webpack_require_UNI_MP_PLUGIN__=i,a(e.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},"5e45":function(t,a,i){"use strict";i.d(a,"b",(function(){return n})),i.d(a,"c",(function(){return e})),i.d(a,"a",(function(){}));var n=function(){var t=this.$createElement,a=(this._self._c,this.isShow&&0==this.trailerList.length);this.$mp.data=Object.assign({},{$root:{g0:a}})},e=[]},"93c4":function(t,a,i){},bcc4:function(t,a,i){"use strict";i.r(a);var n=i("5e45"),e=i("0f15");for(var o in e)["default"].indexOf(o)<0&&function(t){i.d(a,t,(function(){return e[t]}))}(o);i("d455");var r=i("f0c5"),s=Object(r["a"])(e["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);a["default"]=s.exports},d455:function(t,a,i){"use strict";var n=i("93c4"),e=i.n(n);e.a}},[["55fa","common/runtime","common/vendor"]]]);