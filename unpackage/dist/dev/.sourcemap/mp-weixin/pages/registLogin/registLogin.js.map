{"version":3,"sources":["uni-app:///main.js","webpack:///D:/360Downloads/超英预告源码/next-superhero-dev/pages/registLogin/registLogin.vue?d509","webpack:///D:/360Downloads/超英预告源码/next-superhero-dev/pages/registLogin/registLogin.vue?72e9","webpack:///D:/360Downloads/超英预告源码/next-superhero-dev/pages/registLogin/registLogin.vue?179a","webpack:///D:/360Downloads/超英预告源码/next-superhero-dev/pages/registLogin/registLogin.vue?0f42","uni-app:///pages/registLogin/registLogin.vue","webpack:///D:/360Downloads/超英预告源码/next-superhero-dev/pages/registLogin/registLogin.vue?e9a8","webpack:///D:/360Downloads/超英预告源码/next-superhero-dev/pages/registLogin/registLogin.vue?bc8e"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","methods","appOAuthLogin","uni","provider","success","face","nickname","openIdOrUid","url","method","wxLogin","console","formSubmit","title","duration","image"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACa;;;AAGvE;AACsK;AACtK,gBAAgB,6KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAunB,CAAgB,qnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCwD3oB;EACAC;IACA,QAEA;EACA;EACAC;IACAC;MACA;MACA;MACA;;MAEA;MACAC;QACAC;QACAC;UAEA;UACAF;YACAC;YACAC;cACA;;cAEA;cACA;cACA;cACA;cACA;gBACAC;gBACAC;gBACAC;cACA;gBACAA;gBACAD;gBACAD;cACA;gBACAE;gBACAD;gBACAD;cACA;;cAEA;cACAH;gBACAM;gBACAT;kBACA;kBACA;kBACA;gBACA;gBACAU;gBACAL;kBACA;oBACA;oBACA;oBACAF;oBACA;oBACAA;sBACAM;oBACA;kBACA;gBACA;cACA;YAEA;UACA;QAEA;MACA;IACA;IACA;IACAE;MACA;MACA;MACA;MACA;;MAEA;MACAR;QACAC;QACAC;UACA;UACA;UACA;UACA;UACA;UACA;UACAF;YACAM;YACAT;cACA;cACA;cACA;YACA;YACAU;YACAL;cACAO;cACA;cACA;cACAT;cACA;cACAA;gBACAM;cACA;YACA;UACA;QAEA;MACA;IACA;IACAI;MACA;MACA;MACA;MACA;MACA;;MAEA;MACA;MACAV;QACAM;QACAT;UACA;UACA;QACA;QACAU;QACAL;UAEA;UACA;YACA;YACA;YACA;YACAF;YACA;YACAA;cACAM;YACA;UACA;YACAN;cACAW;cACAC;cACAC;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC5MA;AAAA;AAAA;AAAA;AAAg5B,CAAgB,02BAAG,EAAC,C;;;;;;;;;;;ACAp6B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/registLogin/registLogin.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/registLogin/registLogin.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./registLogin.vue?vue&type=template&id=fddfdda4&\"\nvar renderjs\nimport script from \"./registLogin.vue?vue&type=script&lang=js&\"\nexport * from \"./registLogin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./registLogin.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/registLogin/registLogin.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./registLogin.vue?vue&type=template&id=fddfdda4&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./registLogin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./registLogin.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"body\">\r\n\t\t<form @submit=\"formSubmit\">\n\t\t\t<view class=\"face-wapper\">\r\n\t\t\t\t<image src=\"../../static/icos/default-face.png\" class=\"face\"></image>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"info-wapper\">\r\n\t\t\t\t<label class=\"words-lbl\">账号</label>\r\n\t\t\t\t<input name=\"username\" type=\"text\" value=\"\" class=\"input\" placeholder=\"请输入用户名\" placeholder-class=\"graywords\"/>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"info-wapper\" style=\"margin-top: 40upx;\">\r\n\t\t\t\t<label class=\"words-lbl\">密码</label>\r\n\t\t\t\t<input name=\"password\" type=\"text\" value=\"\" password=\"true\" class=\"input\" placeholder=\"请输入密码\" placeholder-class=\"graywords\"/>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<button type=\"primary\" form-type=\"submit\" style=\"margin-top: 60upx;width: 90%;\">注册/登录</button>\r\n\t\t</form>\r\n\t\t\r\n\t\t\r\n\t\t<!-- 第三方登录H5不支持，所以隐藏掉 -->\r\n\t\t\r\n\t\t\t<view class=\"third-wapper\">\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"third-line\">\r\n\t\t\t\t\t<view class=\"single-line\">\r\n\t\t\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"third-words\">第三方账号登录</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"single-line\">\r\n\t\t\t\t\t\t<view class=\"line\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"third-icos-wapper\">\r\n\t\t\t\t\t<!-- 5+app 用qq/微信/微博 登录 小程序用微信小程序登录 h5不支持 -->\r\n\t\t\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t\t\t\t<image src=\"../../static/icos/weixin.png\" data-logintype=\"weixin\" @click=\"appOAuthLogin\" class=\"third-ico\"></image>\r\n\t\t\t\t\t\t<image src=\"../../static/icos/QQ.png\" data-logintype=\"qq\" @click=\"appOAuthLogin\" class=\"third-ico\" style=\"margin-left: 80upx;\"></image>\r\n\t\t\t\t\t\t<image src=\"../../static/icos/weibo.png\" data-logintype=\"sinaweibo\" @click=\"appOAuthLogin\" class=\"third-ico\" style=\"margin-left: 80upx;\"></image>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t\t\t<button open-type='getUserInfo' @getuserinfo=\"wxLogin\" class=\"third-btn-ico\">\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t<!-- #endif -->\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\n\t</view>\n</template>\r\n\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t\n\t\t\t};\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tappOAuthLogin(e) {\r\n\t\t\t\tvar me = this;\r\n\t\t\t\t// 获取用户的登录类型\r\n\t\t\t\tvar logintype = e.currentTarget.dataset.logintype;\r\n\t\t\t\t\r\n\t\t\t\t// 授权登录\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: logintype,\r\n\t\t\t\t\tsuccess(loginRes) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 授权登录成功以后，获取用户的信息\r\n\t\t\t\t\t\tuni.getUserInfo({\r\n\t\t\t\t\t\t\tprovider: logintype,\r\n\t\t\t\t\t\t\tsuccess(info) {\r\n\t\t\t\t\t\t\t\t// console.log(JSON.stringify(info));\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar userInfo = info.userInfo;\r\n\t\t\t\t\t\t\t\tvar face = \"\";\r\n\t\t\t\t\t\t\t\tvar nickname = \"\";\r\n\t\t\t\t\t\t\t\tvar openIdOrUid = \"\";\r\n\t\t\t\t\t\t\t\tif (logintype == \"weixin\") {\r\n\t\t\t\t\t\t\t\t\tface = userInfo.avatarUrl;\r\n\t\t\t\t\t\t\t\t\tnickname = userInfo.nickName;\r\n\t\t\t\t\t\t\t\t\topenIdOrUid = userInfo.openId;\r\n\t\t\t\t\t\t\t\t} else if (logintype == \"qq\") {\r\n\t\t\t\t\t\t\t\t\topenIdOrUid = userInfo.openId;\r\n\t\t\t\t\t\t\t\t\tnickname = userInfo.nickname;\r\n\t\t\t\t\t\t\t\t\tface = userInfo.figureurl_qq_2;\r\n\t\t\t\t\t\t\t\t} else if (logintype == \"sinaweibo\") {\r\n\t\t\t\t\t\t\t\t\topenIdOrUid = userInfo.id;\r\n\t\t\t\t\t\t\t\t\tnickname = userInfo.nickname;\r\n\t\t\t\t\t\t\t\t\tface = userInfo.avatar_large;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 调用开发者后台，执行一键注册或登录\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\turl: me.serverUrl + \"/appUnionLogin/\" + logintype,\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\"openIdOrUid\": openIdOrUid,\r\n\t\t\t\t\t\t\t\t\t\t\"nickname\": nickname,\r\n\t\t\t\t\t\t\t\t\t\t\"face\": face\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\t\t\t\tsuccess(result) {\r\n\t\t\t\t\t\t\t\t\t\tif (result.data.status == 200) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar userInfo = result.data.data;\r\n\t\t\t\t\t\t\t\t\t\t\t// 保存用户信息到全局的缓存中\r\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync(\"globalUser\", userInfo);\r\n\t\t\t\t\t\t\t\t\t\t\t// 切换页面跳转，使用tab切换的api\r\n\t\t\t\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\t\t\t\turl: \"../me/me\"\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 实现在微信小程序端的微信登录\r\n\t\t\twxLogin(e) {\r\n\t\t\t\tvar me = this;\r\n\t\t\t\t// console.log(e);\r\n\t\t\t\t// 通过微信开发能力，获得微信用户的基本信息\r\n\t\t\t\tvar userInfo = e.detail.userInfo;\r\n\t\t\t\t\r\n\t\t\t\t// 实现微信登录\r\n\t\t\t\tuni.login({\r\n\t\t\t\t\tprovider: \"weixin\",\r\n\t\t\t\t\tsuccess(loginResult) {\r\n\t\t\t\t\t\t// console.log(loginResult);\r\n\t\t\t\t\t\t// 获得微信登录的code：授权码\r\n\t\t\t\t\t\tvar code = loginResult.code;\r\n\t\t\t\t\t\t// 设置登录到哪个对于的微信小程序，大家可以根据自己的后端去实现业务参数\r\n\t\t\t\t\t\t// [0:NEXT超英预告][1:超英预告][2:NEXT学院电影预告]\r\n\t\t\t\t\t\tvar loginToWhichMP = 1;\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: me.serverUrl + \"/mpWXLogin/\" + code,\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\"avatarUrl\": userInfo.avatarUrl,\r\n\t\t\t\t\t\t\t\t\"nickName\": userInfo.nickName,\r\n\t\t\t\t\t\t\t\t\"whichMP\": loginToWhichMP\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\t\t\tsuccess(userResult) {\r\n\t\t\t\t\t\t\t\tconsole.log(userResult);\r\n\t\t\t\t\t\t\t\tvar userInfo = userResult.data.data;\r\n\t\t\t\t\t\t\t\t// 保存用户信息到全局的缓存中\r\n\t\t\t\t\t\t\t\tuni.setStorageSync(\"globalUser\", userInfo);\r\n\t\t\t\t\t\t\t\t// 切换页面跳转，使用tab切换的api\r\n\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\turl: \"../me/me\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tformSubmit (e) {\r\n\t\t\t\tvar me = this;\r\n\t\t\t\tvar username = e.detail.value.username;\r\n\t\t\t\tvar password = e.detail.value.password;\r\n// \t\t\t\tconsole.log(username);\r\n// \t\t\t\tconsole.log(password);\r\n\r\n\t\t\t\t// 发起注册/登录的请求\r\n\t\t\t\tvar serverUrl = me.serverUrl;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: serverUrl + '/user/registOrLogin',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\"username\": username,\r\n\t\t\t\t\t\t\"password\": password\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 获取真实数据之前，务必判断状态是否为200\r\n\t\t\t\t\t\tif (res.data.status == 200) {\r\n\t\t\t\t\t\t\tvar userInfo = res.data.data;\r\n\t\t\t\t\t\t\t// console.log(userInfo);\r\n\t\t\t\t\t\t\t// 保存用户信息到全局的缓存中\r\n\t\t\t\t\t\t\tuni.setStorageSync(\"globalUser\", userInfo);\r\n\t\t\t\t\t\t\t// 切换页面跳转，使用tab切换的api\r\n\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\turl: \"../me/me\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else if (res.data.status == 500) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\timage: \"../../static/icos/error.png\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style>\n\t@import url(\"registLogin.css\");\n</style>\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./registLogin.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./registLogin.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1683788200652\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}